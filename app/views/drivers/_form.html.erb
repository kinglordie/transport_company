<div class="flex items-center justify-center w-full min-h-screen">
  <div class="flex -mx-2 shadow-lg">
  <div class="w-full max-w-lg hidden sm:flex">
      <% if driver.photo.attached? %>
        <%= image_tag driver.photo, class: "object-cover rounded-l" %>
      <% end %>
  </div>
  <div class="w-full max-w-md bg-white rounded-r px-12 pt-6 pb-8">
  <% if @driver.new_record? %>
      <h2 class="text-2xl font-bold text-left text-gray-700 mb-4">Новый водитель</h2>  
  <% else %>
      <h2 class="text-2xl font-bold text-left text-gray-700 mb-4"><%= @driver.lastname %> <%= @driver.name %> </h2>
  <% end %>
<%= form_with(model: driver, local: true, class: "flex flex-col gap-y-4") do |form| %>
    <% if driver.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(driver.errors.count, "error") %> запрещено эту форму сохранить:</h2>
  
        <ul>
          <% driver.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <% if !@driver.new_record? %>
    <div class="flex ">
    <%= link_to new_salary_path(driver_id: @driver.id), class: 'mr-4 flex items-center justify-center hover:bg-green-700 h-12 w-12 bg-green-500 text-white rounded-full shadow-lg' do %>
     <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" fill="#FFFFFF" width="24"><path d="M444-200h70v-50q50-9 86-39t36-89q0-42-24-77t-96-61q-60-20-83-35t-23-41q0-26 18.5-41t53.5-15q32 0 50 15.5t26 38.5l64-26q-11-35-40.5-61T516-710v-50h-70v50q-50 11-78 44t-28 74q0 47 27.5 76t86.5 50q63 23 87.5 41t24.5 47q0 33-23.5 48.5T486-314q-33 0-58.5-20.5T390-396l-66 26q14 48 43.5 77.5T444-252v52Zm36 120q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
    <% end %>
    </div>
    <% end %> 
    <div class="field">
      <%= form.label :lastname,"Фамилия", class: "block text-gray-700 text-sm font-bold mb-2" %>
      <%= form.text_field :lastname, class: "w-full shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-green-500 focus:border-green-500" %>
    </div>

    <div class="field">
    <%= form.label :name,"Имя", class: "block text-gray-700 text-sm font-bold mb-2"  %>
    <%= form.text_field :name, class: "w-full shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-green-500 focus:border-green-500"  %>
    </div>
    <div class="field">
    <%= form.label :patronymic,"Отчество", class: "block text-gray-700 text-sm font-bold mb-2"  %>
    <%= form.text_field :patronymic, class: "w-full shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-green-500 focus:border-green-500"   %>
    </div>
        <div class="field">
      <%= form.label :photo %>
      <%= form.file_field :photo %>
    </div>
    <div class="field">
    <%= form.label :dr_license,"Водительское удостоверение", class: "block text-gray-700 text-sm font-bold mb-2"   %>
    <%= form.text_field :dr_license, class: "w-full shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-green-500 focus:border-green-500"   %>
    </div>
    <% if !@driver.new_record? %>
    <div class="field">
      <%= form.label :status, "Статус", class: "block text-gray-700 text-sm font-bold mb-2" %>
      <%= form.select :status, Driver.statuses.keys.map { |key| [Driver.statuses[key].titleize, key] }, {}, { class: "w-full shadow border rounded py-2 pr-8 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-green-500 focus:border-green-500" } %>
    </div>
    <% end %>
  
    <div class="actions" >
      <% if @driver.new_record? %>
        <%= form.submit "Создать водителя", class: "w-full bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline focus:ring-green-500 focus:border-green-500" %>
      <% else %>
        <%= form.submit "Обновить информацию", class: "w-full bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline focus:ring-green-500 focus:border-green-500" %>
      <% end %>
    </div>
  <% end %>
    </div>
    
  </div>
</div>
